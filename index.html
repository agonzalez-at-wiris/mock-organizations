<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LearningLemur ‚Äî Organizations (Admin Prototype)</title>
  <style>
    :root{
      --teal:#0f7c82;
      --teal-700:#0b5c60;
      --bg:#e7f4f1;
      --card:#ffffff;
      --ink:#2e3a3b;
      --muted:#6e7f80;
      --ok:#36b37e;
      --warn:#efb036;
      --shadow:0 8px 20px rgba(0,0,0,.08);
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{ margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:var(--ink); background:var(--bg) }
    header{ height:64px; background:var(--teal); color:#fff; display:flex; align-items:center; justify-content:space-between; padding:0 20px; position:sticky; top:0; z-index:3; box-shadow:var(--shadow) }
    .brand{ display:flex; align-items:center; gap:12px; font-weight:800 }
    .logo{ width:36px; height:36px; border-radius:50%; background:linear-gradient(145deg,#fff,#e9fffa); color:var(--teal); display:grid; place-items:center }
    .btn{ border:none; padding:10px 14px; border-radius:999px; background:#fff; color:var(--teal-700); cursor:pointer; font-weight:600; box-shadow:var(--shadow) }
    .btn.small{ padding:8px 12px; font-weight:700 }
    .layout{ display:grid; grid-template-columns: 220px 1fr; min-height: calc(100vh - 64px) }
    nav{ background: linear-gradient(180deg,#0f7c82,#0a686d); color:#daf5f4; padding:20px 12px }
    .nav-item{ display:flex; align-items:center; gap:12px; padding:12px 14px; margin:8px 4px; background:#ffffff12; border-radius:12px; cursor:pointer }
    .nav-item.active{ background:#fff; color:var(--teal-700); font-weight:700 }
    .icon{ width:22px; height:22px; display:inline-grid; place-items:center }
    main{ padding:24px }
    .crumbs{ color:var(--muted); font-size:14px; margin-bottom:8px }
    h1{ margin:6px 0 16px; font-size:28px }
    .card{ background:var(--card); border-radius:var(--radius); padding:16px; box-shadow:var(--shadow) }
    .grid{ display:grid; gap:16px }
    .grid.cols-3{ grid-template-columns: repeat(3,minmax(0,1fr)) }
    .grid.cols-2{ grid-template-columns: repeat(2,minmax(0,1fr)) }
    @media (max-width:1080px){ .grid.cols-3{ grid-template-columns: repeat(2,1fr)} }
    @media (max-width:760px){ .layout{ grid-template-columns:1fr } .grid.cols-3,.grid.cols-2{ grid-template-columns:1fr } }
    .kpi{ display:flex; align-items:center; justify-content:space-between }
    .value{ font-size:28px; font-weight:800 }
    .muted{ color:var(--muted) }
    table{ width:100%; border-collapse:collapse; font-size:14px }
    th,td{ padding:10px 8px; text-align:left; border-bottom:1px solid #eee }
    th{ color:var(--muted); background:#fafafa }
    .badge{ display:inline-block; padding:4px 10px; border-radius:999px; font-size:12px; font-weight:700 }
    .ok{ background:#e6f7ef; color:#177a52 }
    .warn-b{ background:#fff4e2; color:#9c6a10 }
    .danger{ background:#fee8ea; color:#a73e4b }
    .muted-badge{ background:#eef6f6; color:#4d6c6d }
    .toolbar{ display:flex; gap:10px; flex-wrap:wrap; margin: 6px 0 16px }
    .tabs{ display:flex; gap:8px; margin-bottom:14px; flex-wrap:wrap }
    .tabs button{ border:none; padding:8px 12px; border-radius:999px; background:#f0f7f7; color:#275a5b; cursor:pointer; font-weight:700 }
    .tabs button.active{ background:#0f7c82; color:#fff }
    .chart{ width:100%; height:180px; background:linear-gradient(180deg,#f7fbfb,#fff); border-radius:12px; border:1px solid #eef3f4; display:grid; place-items:center }
    .searchbar{ display:flex; gap:12px; align-items:center }
    .searchbar input{ flex:1; border-radius:10px; padding:12px 14px; border:1px solid #cfe4e1; font-size:16px; background:#fff }
    .pill{ border:1px solid #cfe4e1; padding:6px 10px; border-radius:999px; background:#fff; font-weight:700; cursor:pointer }
    .pill.active{ background:#0f7c82; color:#fff; border-color:#0f7c82 }
    .list-card{ background:#fff; border-radius:14px; box-shadow:var(--shadow); padding:16px; display:flex; justify-content:space-between; align-items:center }
    .list-card + .list-card{ margin-top:12px }
    .row-muted{ font-size:12px; color:var(--muted) }
  </style>
</head>
<body>
  <header>
    <div class="brand"><div class="logo">LL</div><div>LearningLemur</div></div>
    <div class="actions">
      <button class="btn" onclick="alert('Upgrade‚Ä¶')">UPGRADE YOUR PLAN</button>
      <button class="btn">AG</button>
    </div>
  </header>

  <div class="layout">
    <nav>
      <div class="nav-item" data-section="quizzes" onclick="switchMain(event)"><div class="icon">üìã</div><div>My Quizzes</div></div>
      <div class="nav-item" data-section="bank" onclick="switchMain(event)"><div class="icon">üìö</div><div>Content Bank</div></div>
      <div class="nav-item" data-section="admin" onclick="switchMain(event)"><div class="icon">üè´</div><div>Admin</div></div>
    </nav>

    <main>
      <div class="crumbs" id="crumbs">Admin</div>
      <h1 id="title">Admin</h1>

      <!-- My Quizzes -->
      <section id="section-quizzes" style="display:none">
        <div class="card">
          <div class="searchbar" style="margin-bottom:12px">
            <input placeholder="Search my quizzes"/>
            <button class="btn small">Filters</button>
            <button class="btn small">+ Create New Quiz</button>
          </div>
          <div class="list-card">
            <div>
              <div style="font-weight:800">N-RN.2 ‚Äî Rewrite expressions involving radicals‚Ä¶</div>
              <div class="row-muted">12 questions ¬∑ 12 points ¬∑ Last edit: Sep 8, 2025</div>
            </div>
            <div><button class="btn small">Preview</button> <button class="btn small">Share</button></div>
          </div>
          <div class="list-card">
            <div>
              <div style="font-weight:800">Test</div>
              <div class="row-muted">10 questions ¬∑ 10 points ¬∑ Last edit: Sep 4, 2025</div>
            </div>
            <div><button class="btn small">Preview</button> <button class="btn small">Share</button></div>
          </div>
        </div>
      </section>

      <!-- Content Bank -->
      <section id="section-bank" style="display:none">
        <div class="searchbar" style="margin-bottom:12px">
          <input placeholder="Search content"/>
          <div class="pill-group">
            <button class="pill active" data-bank="public" onclick="selectBank(event)">Public</button>
            <button class="pill" data-bank="school" onclick="selectBank(event)">School</button>
          </div>
          <button class="btn small">Filters</button>
        </div>

        <div id="bank-list">
          <!-- Populated by JS -->
        </div>
        <div class="row-muted" style="text-align:right; margin-top:8px">1‚Äì6 of 6</div>
      </section>

      <!-- Admin -->
      <section id="section-admin">
        <div class="crumbs muted">Organizations / Wiris School</div>
        <div class="tabs">
          <button class="active" data-tab="dashboard" onclick="switchAdminTab(event)">Dashboard</button>
          <button data-tab="members" onclick="switchAdminTab(event)">Members</button>
          <button data-tab="licenses" onclick="switchAdminTab(event)">Licenses</button>
          <button data-tab="analytics" onclick="switchAdminTab(event)">Analytics</button>
          <button data-tab="settings" onclick="switchAdminTab(event)">Settings</button>
        </div>

        <!-- Dashboard -->
        <div id="admin-dashboard">
          <div class="toolbar">
            <button class="btn small" onclick="alert('Invite flow‚Ä¶')">+ Invite members</button>
            <button class="btn small" onclick="alert('Create department‚Ä¶')">+ New department</button>
            <button class="btn small" onclick="alert('Bulk actions‚Ä¶')">Bulk actions</button>
          </div>

          <div class="grid cols-3">
            <div class="card"><div class="kpi"><div><div class="value">184</div><div class="muted">Active teachers</div></div><span class="badge ok">+12%</span></div></div>
            <div class="card"><div class="kpi"><div><div class="value">4,920</div><div class="muted">Student seats</div></div><span class="badge ok">84% utilized</span></div></div>
            <div class="card"><div class="kpi"><div><div class="value">80%</div><div class="muted">AI questions share</div></div><span class="badge ok">+5pp</span></div></div>
          </div>

          <div class="grid cols-2" style="margin-top:16px">
            <div class="card">
              <h3>Recent activity</h3>
              <table>
                <thead><tr><th>When</th><th>User</th><th>Action</th><th>Details</th></tr></thead>
                <tbody>
                  <tr><td>Today</td><td>Pol R.</td><td>Created quiz</td><td>Algebra ‚Äì Radicals</td></tr>
                  <tr><td>Yesterday</td><td>Guillem P.</td><td>Joined org</td><td>Invited by Andrea</td></tr>
                  <tr><td>Yesterday</td><td>Carlota S.</td><td>Used AI</td><td>Generated 12 questions</td></tr>
                </tbody>
              </table>
            </div>
            <div class="card">
              <h3>Seats & usage</h3>
              <div class="chart" id="chart-usage"></div>
            </div>
          </div>
        </div>

        <!-- Members -->
        <div id="admin-members" style="display:none">
          <div class="card">
            <table>
              <thead><tr><th>Name</th><th>Email</th><th>Role</th><th>Status</th><th>Last active</th><th style="width:120px">Actions</th></tr></thead>
              <tbody id="members-table"></tbody>
            </table>
          </div>
        </div>

        <!-- Licenses -->
        <div id="admin-licenses" style="display:none">
          <div class="grid cols-2">
            <div class="card">
              <h3>License status</h3>
              <table>
                <tbody>
                  <tr><td>Plan</td><td><strong>LearningLemur Premium</strong></td></tr>
                  <tr><td>Seats</td><td>500 teachers / 5,000 students</td></tr>
                  <tr><td>Term</td><td>2025-09-01 ‚Üí 2026-08-31</td></tr>
                  <tr><td>Status</td><td><span class="badge ok">Active</span></td></tr>
                  <tr><td>Domain</td><td>wiris.com</td></tr>
                </tbody>
              </table>
              <div class="toolbar" style="margin-top:12px">
                <button class="btn small" onclick="alert('Renew wizard‚Ä¶')">Renew</button>
                <button class="btn small" onclick="alert('Adjust seats‚Ä¶')">Adjust seats</button>
                <button class="btn small" onclick="alert('Export‚Ä¶')">Export</button>
              </div>
            </div>
            <div class="card">
              <h3>Service control</h3>
              <p class="muted">Service enable/disable is managed by Wiris. Admins see read-only status.</p>
              <table>
                <thead><tr><th>Scope</th><th>Value</th><th>Access</th></tr></thead>
                <tbody>
                  <tr><td>Org</td><td>Wiris School</td><td><span class="badge ok">Enabled</span></td></tr>
                  <tr><td>Domain</td><td>wiris.com</td><td><span class="badge ok">Enabled</span></td></tr>
                  <tr><td>Domain</td><td>students.wiris.com</td><td><span class="badge warn-b">Restricted</span></td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Analytics -->
        <div id="admin-analytics" style="display:none">
          <div class="grid cols-3">
            <div class="card"><h3>Quizzes created</h3><div class="chart" id="chart-quizzes"></div></div>
            <div class="card"><h3>AI usage</h3><div class="chart" id="chart-ai"></div></div>
            <div class="card"><h3>Active users</h3><div class="chart" id="chart-active"></div></div>
          </div>
        </div>

        <!-- Settings -->
        <div id="admin-settings" style="display:none">
          <div class="grid cols-2">
            <div class="card">
              <h3>Organization profile</h3>
              <table>
                <tbody>
                  <tr><td>Name</td><td><input value="Wiris School" style="padding:8px; width:100%"/></td></tr>
                  <tr><td>Domains</td><td><input value="wiris.com, students.wiris.com" style="padding:8px; width:100%"/></td></tr>
                  <tr><td>Primary contact</td><td><input value="andrea@wiris.com" style="padding:8px; width:100%"/></td></tr>
                </tbody>
              </table>
              <div class="toolbar" style="margin-top:12px"><button class="btn small" onclick="alert('Saved!')">Save</button></div>
            </div>
            <div class="card">
              <h3>Integrations</h3>
              <table>
                <thead><tr><th>App</th><th>Status</th><th>Details</th></tr></thead>
                <tbody>
                  <tr><td>Google Classroom Add-on</td><td><span class="badge ok">Connected</span></td><td>Gradebook sync on</td></tr>
                  <tr><td>Canvas LTI</td><td><span class="badge ok">Connected</span></td><td>Rollover: copy quizzes enabled</td></tr>
                  <tr><td>Salesforce</td><td><span class="badge ok">Synced</span></td><td>Account: Wiris</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </section>
    </main>
  </div>

  <script>
    // Default to Admin section selected
    const mainSections = ['quizzes','bank','admin'];
    function setActiveNav(section){
      document.querySelectorAll('nav .nav-item').forEach(n=>{
        n.classList.toggle('active', n.dataset.section===section);
      });
    }
    function switchMain(e){
      const sec = e.currentTarget.dataset.section;
      showSection(sec);
    }
    function showSection(sec){
      mainSections.forEach(s => document.getElementById('section-'+s).style.display = (s===sec?'block':'none'));
      const map = {quizzes:'My Quizzes', bank:'Content Bank', admin:'Admin'};
      document.getElementById('crumbs').innerText = map[sec];
      document.getElementById('title').innerText = map[sec];
      setActiveNav(sec);
    }
    showSection('admin'); // default
    setActiveNav('admin');

    // Admin tabs
    const adminTabs = ['dashboard','members','licenses','analytics','settings'];
    function switchAdminTab(e){
      const tab = e.currentTarget.dataset.tab;
      document.querySelectorAll('.tabs button').forEach(b=>b.classList.remove('active'));
      e.currentTarget.classList.add('active');
      adminTabs.forEach(t => document.getElementById('admin-'+t).style.display = (t===tab?'block':'none'));
    }

    // Members mock
    const members = [
      {name:'Andrea Gonzalez', email:'andrea@wiris.com', role:'Admin', status:'Active', last:'Today'},
      {name:'Carlota Serra', email:'carlota@wiris.com', role:'Teacher', status:'Active', last:'Today'},
      {name:'Pol Robert', email:'pol@wiris.com', role:'Teacher', status:'Active', last:'Yesterday'},
      {name:'Guillem Puig', email:'guillem@wiris.com', role:'Teacher', status:'Invited', last:'‚Äî'},
      {name:'Joan Rovira', email:'joan@wiris.com', role:'Teacher', status:'Suspended', last:'Aug 30'}
    ];
    function badge(status){
      const cls = status==='Active'?'ok':status==='Invited'?'muted-badge':'danger';
      return `<span class="badge ${cls}">${status}</span>`;
    }
    function renderMembers(){
      const tbody = document.getElementById('members-table');
      tbody.innerHTML = members.map(m => `
        <tr>
          <td>${m.name}</td>
          <td>${m.email}</td>
          <td>${m.role}</td>
          <td>${badge(m.status)}</td>
          <td>${m.last}</td>
          <td><button class="btn small" onclick="alert('Edit ${m.name}')">Edit</button></td>
        </tr>`).join('');
    }
    renderMembers();

    // Content bank data for two scopes
    const bankPublic = [
      {title:'1.1. Suma matrices SELECTIVIDAD', q:7, pts:7, author:'Administrator Lemur', lang:'ES', date:'Sep 3, 2025'},
      {title:'1.1. Suma de matrius SELECTIVITAT', q:7, pts:7, author:'Administrator Lemur', lang:'CA', date:'Sep 3, 2025'},
      {title:'ESO Suma y resta monomios', q:7, pts:7, author:'Maria de LearningLemur', lang:'ES', date:'Sep 3, 2025'},
      {title:'ESO Resoluci√≥n problemas con suma y resta fracciones', q:10, pts:10, author:'Maria de LearningLemur', lang:'ES', date:'Sep 3, 2025'},
      {title:'ESO Suma y resta de fracciones', q:10, pts:10, author:'Maria de LearningLemur', lang:'ES', date:'Sep 3, 2025'},
      {title:'Operaciones con racionales', q:8, pts:8, author:'Admin Lemur', lang:'ES', date:'Sep 2, 2025'}
    ];
    const bankSchool = [
      {title:'Algebra I Unit 1 ‚Äì Radicals', q:12, pts:12, author:'Wiris Math Dept', lang:'EN', date:'Sep 7, 2025'},
      {title:'Polynomials Review', q:10, pts:10, author:'Wiris Math Dept', lang:'EN', date:'Sep 2, 2025'},
      {title:'Trig Basics', q:9, pts:9, author:'Wiris Math Dept', lang:'EN', date:'Sep 1, 2025'}
    ];
    let activeBank = 'public';
    function selectBank(e){
      document.querySelectorAll('.pill').forEach(p=>p.classList.remove('active'));
      e.currentTarget.classList.add('active');
      activeBank = e.currentTarget.dataset.bank;
      renderBank();
    }
    function bankRow(item){
      return `<div class="list-card">
        <div>
          <div style="font-weight:800">${item.title}</div>
          <div class="row-muted">${item.q} questions ¬∑ ${item.pts} points ¬∑ Created by ${item.author} ¬∑ ${item.date}</div>
        </div>
        <div class="row-muted">${item.lang}</div>
        <div><button class="btn small">Preview</button> <button class="btn small">Save</button></div>
      </div>`;
    }
    function renderBank(){
      const list = activeBank==='public' ? bankPublic : bankSchool;
      document.getElementById('bank-list').innerHTML = list.map(bankRow).join('');
    }
    renderBank();

    // Charts
    function line(points, w=480, h=160, color='#0f7c82'){
      const max = Math.max(...points), min = Math.min(...points);
      const dx = w/(points.length-1);
      const path = points.map((p,i)=>`${i? 'L':'M'} ${i*dx.toFixed(2)} ${(h - ( (p-min)/(max-min||1) )*h).toFixed(2)}`).join(' ');
      return `<svg viewBox="0 0 ${w} ${h}" width="100%" height="100%">
        <defs><linearGradient id="g" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0%" stop-color="${color}" stop-opacity=".25"/><stop offset="100%" stop-color="${color}" stop-opacity="0"/></linearGradient></defs>
        <path d="${path}" fill="none" stroke="${color}" stroke-width="3"/>
        <path d="${path} L ${w} ${h} L 0 ${h} Z" fill="url(#g)"/>
      </svg>`;
    }
    document.getElementById('chart-usage').innerHTML = line([30,40,38,45,55,52,65,70,69,75,78,84]);
    document.getElementById('chart-quizzes') && (document.getElementById('chart-quizzes').innerHTML = line([120,140,160,180,170,210,240,260,300,320,350,380]));
    document.getElementById('chart-ai') && (document.getElementById('chart-ai').innerHTML = line([55,58,60,62,64,66,69,72,75,78,80,82]));
    document.getElementById('chart-active') && (document.getElementById('chart-active').innerHTML = line([40,48,52,60,58,62,65,68,66,70,74,79]));
  </script>
</body>
</html>
